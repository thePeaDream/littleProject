{"version":3,"sources":["file:///D:/gameRes/NewProject_6/assets/Script/FixedUpdate.ts"],"names":["_decorator","ccclass","property","FixedUpdate","constructor","nowTime","fixedDeltaTime","getInstance","_instance","update","dt","fiexdUpdateCallback"],"mappings":";;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBF,U;;6BAGjBG,W,WADZF,OAAO,CAAC,aAAD,C,2BAAR,MACaE,WADb,CAEA;AAGuC;AAC3BC,QAAAA,WAAW,GAAE;AAHgB;AAGhB,eAFbC,OAEa,GAFI,CAEJ;AAAA,eADbC,cACa,GADS,IACT;AAAE,SAJ3B,CAKI;;;AACyB,eAAXC,WAAW,GAAc;AACnC,cAAG,CAACJ,WAAW,CAACK,SAAhB,EAA0B;AACtBL,YAAAA,WAAW,CAACK,SAAZ,GAAwB,IAAIL,WAAJ,EAAxB;AACH;;AACD,iBAAOA,WAAW,CAACK,SAAnB;AACH;;AACMC,QAAAA,MAAM,CAACC,EAAD,EAAWC,mBAAX,EACb;AACI;AACA,eAAKN,OAAL,IAAgBK,EAAhB,CAFJ,CAGI;;AACA,iBAAM,KAAKL,OAAL,GAAe,KAAKC,cAA1B,EACA;AACI;AACAK,YAAAA,mBAAmB,CAAC,KAAKL,cAAN,CAAnB,CAFJ,CAGI;;AACA,iBAAKD,OAAL,IAAgB,KAAKC,cAArB;AACH;AACJ;;AAxBL,O,UACmBE,S","sourcesContent":["import { _decorator, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('FixedUpdate')\r\nexport class FixedUpdate\r\n{\r\n    private static _instance:FixedUpdate;//单例模式\r\n    private nowTime:number = 0;\r\n    private fixedDeltaTime:number=0.02;//设定一个固定的更新时间，固定每0.02秒更新一次 锁定帧数\r\n    private constructor(){}\r\n    //获取单例对象\r\n    public static getInstance():FixedUpdate{\r\n        if(!FixedUpdate._instance){\r\n            FixedUpdate._instance = new FixedUpdate();\r\n        }\r\n        return FixedUpdate._instance;\r\n    }\r\n    public update(dt:number,fiexdUpdateCallback:(delta:number)=>void)\r\n    {\r\n        //更新时间\r\n        this.nowTime += dt;\r\n        //当前时间大于固定时间间隔时\r\n        while(this.nowTime > this.fixedDeltaTime)\r\n        {\r\n            //调用传入的回调函数，固定时间间隔为参数\r\n            fiexdUpdateCallback(this.fixedDeltaTime);\r\n            //更新当前时间的计数\r\n            this.nowTime -= this.fixedDeltaTime;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n"]}