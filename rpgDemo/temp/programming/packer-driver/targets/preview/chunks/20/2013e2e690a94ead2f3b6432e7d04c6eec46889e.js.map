{"version":3,"sources":["file:///D:/gameRes/NewProject_6/assets/Script/CustomRenderingOrder.ts"],"names":["_decorator","Component","ccclass","property","CustomRenderingOrder","start","update","dt","EnvNodes","node","children","sort","a","b","position","y","forEach","EnvNode","index","setSiblingIndex"],"mappings":";;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;;;;;;;;;OACf;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBH,U;;sCAGjBI,oB,WADZF,OAAO,CAAC,sBAAD,C,gBAAR,MACaE,oBADb,SAC0CH,SAD1C,CACoD;AAChDI,QAAAA,KAAK,GAAG,CAEP;;AAEDC,QAAAA,MAAM,CAACC,EAAD,EAAa;AACf,cAAIC,QAAQ,GAAG,KAAKC,IAAL,CAAUC,QAAzB,CADe,CAEf;;AACAF,UAAAA,QAAQ,CAACG,IAAT,CAAc,CAACC,CAAD,EAAGC,CAAH,KAAOA,CAAC,CAACC,QAAF,CAAWC,CAAX,GAAaH,CAAC,CAACE,QAAF,CAAWC,CAA7C,EAHe,CAKf;;AACAP,UAAAA,QAAQ,CAACQ,OAAT,CAAiB,CAACC,OAAD,EAAUC,KAAV,KAAkB;AAC/B,gBAAGD,OAAH,EAAW;AACPA,cAAAA,OAAO,CAACE,eAAR,CAAwBD,KAAxB;AACH;AACJ,WAJD;AAKH;;AAhB+C,O","sourcesContent":["import { _decorator, Component, Node } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('CustomRenderingOrder')\r\nexport class CustomRenderingOrder extends Component {\r\n    start() {\r\n\r\n    }\r\n\r\n    update(dt: number) {\r\n        let EnvNodes = this.node.children;\r\n        //按照y轴从大到小排序,Y值越低,显示越靠前\r\n        EnvNodes.sort((a,b)=>b.position.y-a.position.y);\r\n   \r\n        //更新渲染顺序\r\n        EnvNodes.forEach((EnvNode, index)=>{\r\n            if(EnvNode){\r\n                EnvNode.setSiblingIndex(index);\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\n\r\n"]}